1. Prerequisites: Install the following for setting up the project

    - Node.js 18+ (+ npm): Required for both backend and frontend. Check version with 'node -v'
      - macOS: 'brew install node'
      - Ubuntu/Debian: 'sudo apt install nodejs npm' 
    - Git: Used to clone and update the repository. Check verion with 'git --version'
    - SQLite runtime: Prisma uses SQLite locally
      - macOS: 'brew install sqlite'
      - Ubuntu/Debian: 'sudo apt install sqlite3'
    - Prisma CLI: 'npm install -g prisma'

    Key Project Dependencies that are automatically installed via 'npm install': 
        - react-qr-code: Used by the frontend to generate and display QR codes for Profile and Redemption Pages. 
        - axios: HTTP client used for all API communication.


2. Local Setup (Development)
    The application consists of separate backend/ and frontend/ directories.
    - Installation 
        Clone the repository
        git clone [https://github.com/juhwansonn/ScoreCart] 
        cd 

        Install Backend Dependencies:
        cd backend
        npm install

        Install Frontend Dependencies:
        cd ../frontend
        npm install
        cd ..

    - Environment Configuration
        Create a .env file in the backend/ directory:
        .env in backend/
            PORT=8000
            JWT_SECRET="YOUR_LONG_RANDOME_SECRET_KEY". 
            FRONTEND_URL="http://localhost:3000"

    - Database Setup & Seeding
        The project uses Prisma (SQLite locally). This step sets up the database and populates it with required demo data (users, transactions, events) to test pagination and roles

        cd backend
        1. Run migrations to create schema
        - npx prisma migrate dev --name init
        2. Run seed script (prisma/seed.js)
        - npx prisma db seed

        - The seed contains users with ID of following: 
            - superuser01, manager01-02, cashier01-02, reguser01-10
            - All the seed user's passowrd is "Password123!" 
        - You can test some functionality of the app using the seed data.
    
    - Run Application
        Start the backend and frontend in separate terminals.

        Terminal 1: Start Backend API
        cd backend
        npm index.js 8000  # on http://localhost:8000

        Terminal 2: Start Frontend App
        cd frontend
        npm run dev  # on http://localhost:3000

3. Deployment Notes
    - Hosting Environments: 
        - Railway containers - Ubuntu 20.04 with Node 22 (Node 18+ should work.)
        - The backend and frontend run in the same virtual machine.

    - To deploy the project to Railway:

        1. Point your Railway service to the root of your GitHub repository.

        2. Configure two separate services within the project: one for the backend directory and one for the frontend directory.
            - Backend Service (APIs): Set the Root Directory to '/backend'. 
                - Set Custom Build Command: npm install
                - Set Custom Start Command: npx prisma db push && node index.js
                - Add watch path(not necessary): /backend/** 

                - Add variables: 
                    - FRONTEND_URL: https://frontend-production-d20b.up.railway.app
                    - JWT_SECRET: Add your own secret random string
            
            - Frontend Service (React Pages): Set the Root Directory to '/frontend'.
                - Add variables:
                    - REACT_APP_API_URL: https://backend-production-1036.up.railway.app
                
                - Add watch path(no neccessary): /frontend/**

4. Demo accounts(created via seeding and scripts): 
    The following accounts are available for testing different role permissions: 
    Superuser: 
        - ID: superuser01
        - Password: Password123!
    Manager: 
        - ID: manager01 # or manager02
        - Password: Password123!
    Casier: 
        - ID: cashier01 # or cashier02
        - Password: Password123!
    Regular User:
        - ID: reguser01 # to reguser10
        - Password: Password123! 

5. Key features and hehaviour to be tested:
    - Authenticate & Profile: 
        - '/login': User authentication. Returns a JWT stored in memory.
        - '/profile': Displays User Info like balance, ID, and QR code representing the user.

    - Events Management:
        - '/events: Lists all upcoming events with Pagination (Create more than 5 events to see the button "Next")
        - '/events/new': (Manager/Superuser Only ) Create a new event. Regular users cannot access this.
        - '/events/:id/edit': (Manager/Superuser Only) Form to update event details (access via Edit button on Event list).

    - Promotions Management: 
        - '/promotions': View all active promotional offers.
        - '/promotions/new': (Manager/Superuser Only) Create a new promotion.
        - '/promotions/:id': (Manager/Superuser Only) Edit an existing promotion.

    - Transactions: 
        - '/transfer': Allows transferring points to another user via their UtorID.
        - '/transactions': View personal transaction history (transfers, redemptions, purchases).
        - '/redemption': Generates a redemption request with a unique QR Code for the transaction.
        - '/process-redemption': (Cashier/Manager/Superuser Only) Validates and approves redemption request
        - '/manager/transactions': (Manager/Superuser Only) View the global history of all system transactions.

    - Administration:
        - '/users': (Manager/Superuser Only ) Lists all registered users and their roles.
        - '/promotions/new': (Manager/Superuser Only) Create new promotional offers.

    
6. Architecture & Tech Stack Architecture: 
    The project follows a client-server architecture. 
    - The frontend is a Single Page Application that communicates with the RESTful backend API via HTTP requests. 
    - The backend manages state and data persistence using Prisma ORM.

    Tech Stacks: 
        - Frontend: React.js, Axios, CSS
        - Backend: Node.js, Express.js
        - DB: SQLite, Prisma


